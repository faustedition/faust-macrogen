# Faustedition Graphviewer

## Installation for production

1. Clone the git repository and cd into the directory.
2. Run `./bootstrap-graphviewer.sh`. This will download and use micromamba and pip to setup a complete Python environment ready to run the application. It will also create config and service files.
3. Have a look at `gunicorn.conf.py`. You will probably need to edit the TCP port to bind to (5000 by default).
4. Copy or symlink `macrogenesis/macrogen-info.zip` (which is generated by the macrogenesis workflow and part of the regular workflow) to `target/macrogenesis/macrogen-info.zip`.
5. To test, run `./run-server.sh`. Use something like `curl -i 'http://localhost:5000/macrogenesis/subgraph/dot?nodes=1H5'` to test the service, this should generate a 200 response containing a small Graphviz script. The first response might take a little since the graph data needs to be loaded.
6. If this works, stop the server and edit and install the systemd service file to install the server reboot safe. On Debian, the file should go to `/etc/systemd/system/` and be enabled and started using `sudo systemctl enable --now faust-macrogen`. 
